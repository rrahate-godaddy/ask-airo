import{j as s}from"./jsx-runtime.ClP7wGfN.js";import{r as t}from"./index.DK-fsZOb.js";import{isUserAuthenticated as f,redirectIfNotAuthenticated as h}from"./auth-service.C2TDgiKC.js";function w({children:n}){const[o,a]=t.useState(!0),[u,d]=t.useState(!1);return t.useEffect(()=>{if(typeof window>"u")return;const r=()=>{const e=f();d(e),a(!1),e||h()},c=setTimeout(r,200),i=e=>{r()};return window.addEventListener("auth-state-changed",i),()=>{window.removeEventListener("auth-state-changed",i),clearTimeout(c)}},[]),typeof window>"u"?n:o?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):u?n:null}export{w as default};
