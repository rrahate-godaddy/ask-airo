import{r as m,j as s,C as v,M as w,T as j,I as C}from"./responses.bwXKcYgZ.js";import{r as a}from"./index.DK-fsZOb.js";/* empty css                      */function I(){const[c,n]=a.useState([]),[u,l]=a.useState(!1),[h,d]=a.useState(!1),[i,p]=a.useState(m);a.useEffect(()=>{(!i||i.length===0)&&fetch("/ask-airo/responses.json").then(e=>e.json()).then(e=>{console.log("Loaded responses from fetch:",e),p(e)}).catch(e=>{console.error("Error loading responses.json:",e),p([{trigger:"hello",reply:"Hi there! How can I help?"},{trigger:"help",reply:"Sureâ€”what would you like assistance with?"},{trigger:"bye",reply:"Goodbye! Have a great day!"},{trigger:".*",reply:"Sorry, I didn't get that. Could you rephrase?"}])})},[i]),a.useEffect(()=>{c.length===0&&n([{text:"Hi there! How can I help you today?",isUser:!1}])},[c]);const g=e=>{const t=e.toLowerCase();return i.find(r=>{try{return new RegExp(r.trigger,"i").test(t)}catch{return t.includes(r.trigger.toLowerCase())}})?.reply||"I'm not sure how to respond to that."},f=e=>{const t=e.toLowerCase().trim();return t==="open canvas"?(d(!0),!0):t==="close canvas"?(d(!1),!0):!1},x=e=>{n(o=>[...o,{text:e,isUser:!0}]);const t=f(e);l(!0),setTimeout(()=>{if(t){const o=e.toLowerCase().includes("open")?"Opening the canvas for you.":"Closing the canvas for you.";n(r=>[...r,{text:o,isUser:!1}])}else{const o=g(e);n(r=>[...r,{text:o,isUser:!1}])}l(!1)},Math.random()*300+500)};return s.jsx("div",{className:"overlay",children:s.jsxs("div",{className:"chat-container",children:[s.jsx("button",{className:"close-button","aria-label":"Close chat",children:s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:s.jsx("path",{d:"M13 1L1 13M1 1L13 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),s.jsx(v,{}),s.jsxs("div",{className:`split-container ${h?"with-canvas":""}`,children:[s.jsxs("div",{className:"chat-section",children:[s.jsx(w,{messages:c}),u&&s.jsx(j,{}),s.jsx(C,{onSendMessage:x})]}),h&&s.jsx("div",{className:"canvas-section"})]})]})})}export{I as default};
